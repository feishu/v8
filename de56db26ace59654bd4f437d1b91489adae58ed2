{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ad6246ec_7db7f921",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1545467
      },
      "writtenOn": "2024-11-18T15:58:34Z",
      "side": 1,
      "message": "Thank you for the review, Nico!",
      "revId": "de56db26ace59654bd4f437d1b91489adae58ed2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3b7a6a3_9fcfd68a",
        "filename": "src/compiler/pipeline.cc",
        "patchSetId": 4
      },
      "lineNbr": 3609,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2024-11-18T16:06:15Z",
      "side": 1,
      "message": "Might be worth putting the reducer on an existing phase to avoid a full graph copy just to lower stack checks.\n\nIt could probably go in WasmDeadCodeEliminationPhase.",
      "range": {
        "startLine": 3609,
        "startChar": 0,
        "endLine": 3609,
        "endChar": 63
      },
      "revId": "de56db26ace59654bd4f437d1b91489adae58ed2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "beca74f6_cfe9755b",
        "filename": "src/compiler/pipeline.cc",
        "patchSetId": 4
      },
      "lineNbr": 3609,
      "author": {
        "id": 1545467
      },
      "writtenOn": "2024-11-18T16:18:29Z",
      "side": 1,
      "message": "How to do it properly? I want to plug in GrowableStacksReducer dynamically depending on `v8_flags.experimental_wasm_growable_stacks` flag, but IIUC I can only add a reducer to `WasmDeadCodeEliminationPhase` statically as a template param. Should I add it unconditionally and bail down earlier inside the reducer if `v8_flags.experimental_wasm_growable_stacks` is not set?",
      "parentUuid": "c3b7a6a3_9fcfd68a",
      "range": {
        "startLine": 3609,
        "startChar": 0,
        "endLine": 3609,
        "endChar": 63
      },
      "revId": "de56db26ace59654bd4f437d1b91489adae58ed2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "743b9b8b_eb7aa079",
        "filename": "src/compiler/pipeline.cc",
        "patchSetId": 4
      },
      "lineNbr": 3609,
      "author": {
        "id": 1535927
      },
      "writtenOn": "2024-11-18T16:43:15Z",
      "side": 1,
      "message": "\"Should I add it unconditionally and bail down earlier inside the reducer if v8_flags.experimental_wasm_growable_stacks is not set?\" --\u003e yes, exactly :)",
      "parentUuid": "beca74f6_cfe9755b",
      "range": {
        "startLine": 3609,
        "startChar": 0,
        "endLine": 3609,
        "endChar": 63
      },
      "revId": "de56db26ace59654bd4f437d1b91489adae58ed2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42ef9910_199fe43e",
        "filename": "src/compiler/pipeline.cc",
        "patchSetId": 4
      },
      "lineNbr": 3609,
      "author": {
        "id": 1545467
      },
      "writtenOn": "2024-11-18T17:31:18Z",
      "side": 1,
      "message": "Playing around a little bit I figured out `WasmDeadCodeEliminationPhase` runs in many contexts(such as wrappers pipelines), but `GrowableStacksReducer` doesn\u0027t make sense anywhere except compiling Wasm functions. Taking it in account I wouldn\u0027t include it here and at least for a while(at least until is in experimental state and disabled by default) keep it in own phase.",
      "parentUuid": "743b9b8b_eb7aa079",
      "range": {
        "startLine": 3609,
        "startChar": 0,
        "endLine": 3609,
        "endChar": 63
      },
      "revId": "de56db26ace59654bd4f437d1b91489adae58ed2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}